include ../apartment-info/apartment-info
include ../date-dropdown/date-dropdown
include ../form-button/form-button
include ../dropdown/dropdown

mixin apartment-booking-card({number, price, currency, lux=false, dateDropdownHeaders, dropdownHeader, expression, expressionResult, servicePriceLabel, servicePrice, extraServiceLabel,  extraServicePrice, totalPrice, noteTexts, buttonText, link})
    form.apartment-booking-card(method="POST" action=link)
        .apartment-booking-card__main-info
            +apartment-info({number: number, price: price, currency: currency, largeNumber: true, lux: lux})
        .apartment-booking-card__date-dropdown
            +date-dropdown(true, false, dateDropdownHeaders)
        .apartment-booking-card__guests
            h3.apartment-booking-card__guests-header=dropdownHeader
            .apartment-booking-card__guests-dropdown
                +dropdown({
                    placeholder: "Сколько гостей", items: [
                        {
                            id: "adults",
                            minAmount: "0",
                            maxAmount: "100",
                            forms: "взрослый,взрослых,взрослых",
                            itemName: "взрослые",
                            startAmount: "2"
                        },
                        {
                            id: "children",
                            minAmount: "0",
                            maxAmount: "100",
                            forms: "ребенок,ребенка,ребят",
                            itemName: "дети",
                            startAmount: "1"
                        },
                        {
                            id: "baby",
                            minAmount: "0",
                            maxAmount: "100",
                            forms: "младенец,младенца,младенцев",
                            itemName: "младенцы",
                            startAmount: "0"
                        }
                    ], expanded: false, withButtons: true, generalForms: "гость,гостя,гостей"
                })
        .apartment-booking-card__cheque.js-cheque
            .apartment-booking-card__cheque-item
                .apartment-booking-card__price-label=expression
                .apartment-booking-card__result=expressionResult
            .apartment-booking-card__cheque-item
                .apartment-booking-card__price-info
                    .apartment-booking-card__price-label=servicePriceLabel
                    .apartment-booking-card__price-note i
                        .apartment-booking-card__price-note-text=noteTexts[0]
                .apartment-booking-card__result.js-cheque-summand=servicePrice
            .apartment-booking-card__cheque-item
                .apartment-booking-card__price-info
                    .apartment-booking-card__price-label=extraServiceLabel
                    .apartment-booking-card__price-note i
                        .apartment-booking-card__price-note-text=noteTexts[1]
                .apartment-booking-card__result.js-cheque-summand=extraServicePrice
            .apartment-booking-card__total
                .apartment-booking-card__total-label Итого
                .apartment-booking-card__line
                .apartment-booking-card__total-sum.js-cheque-total=totalPrice
        .apartment-booking-card__button
            +form-button(buttonText)