extends ../layout/layout

block page-meta
    meta(name="keywords" content="Search, Toxin")
    meta(name="description" content="Toxin search page")
    title Search

block content
    include ../../blocks/date-dropdown/date-dropdown
    include ../../blocks/dropdown/dropdown
    include ../../blocks/range-slider/range-slider
    include ../../blocks/checkbox/checkbox
    include ../../blocks/rich-checkbox/rich-checkbox
    include ../../blocks/expandable-checkbox-list/expandable-checkbox-list
    include ../../blocks/apartment-description-card/apartment-description-card
    include ../../blocks/pagination/pagination

    -
        let path = require('path');
        let fs = require('fs');
        let descriptionCardsData = JSON.parse(fs.readFileSync(path.normalize("src/pages/search/description-cards-data.json")))


    main.search
        .search__container
            button.search__show-filter-button.js-search__show-filter-button Фильтр
            form.search__filter-column.js-search__filter-column(method="POST" action="mock-address")

                .search__item
                    .search__item-label
                        h3.search__item-header Даты пребывания в отеле
                    +date-dropdown({startDateInterval: "2019-08-19, 2019-08-23"})

                .search__item.search__item_margin-large
                    .search__item-label
                        h3.search__item-header Гости
                    +dropdown({
                        placeholder: "Сколько гостей",
                        items: [{
                            id: "adults",
                            minAmount: "0",
                            maxAmount: "100",
                            forms: "взрослый,взрослых,взрослых",
                            itemName: "взрослые",
                            startAmount: "3"
                        },
                            {
                                id: "children",
                                minAmount: "0",
                                maxAmount: "100",
                                forms: "ребенок,ребенка,ребят",
                                itemName: "дети",
                                startAmount: "0"
                            },
                            {
                                id: "baby",
                                minAmount: "0",
                                maxAmount: "100",
                                forms: "младенец,младенца,младенцев",
                                itemName: "младенцы",
                                startAmount: "0"
                            }
                        ],
                        withButtons: true,
                        generalForms: "гость,гостя,гостей"
                    })

                .search__item.search__item_margin-large
                    .search__subitem
                        +range-slider({
                            text: "диапазон цены",
                            startLowValue: 5000,
                            startHighValue: 10000,
                            minValue: 500,
                            maxValue: 15000
                        })
                    .search__subitem
                        p.search__text Стоимость за сутки пребывания в номере


                .search__item.search__item_width-small.search__item_margin-large
                    .search__item-label.search__item-label_margin-large
                        h3.search__item-header Checkbox Buttons
                    .search__subitem
                        +checkbox("Можно курить")
                    .search__subitem
                        +checkbox("Можно с питомцами", false, true)
                    .search__subitem
                        +checkbox("Можно пригласить гостей (до 10 человек)", false, true)



                .search__item.search__item_margin-large
                    .search__item-label.search__item-label_margin-large
                        h3.search__item-header Доступность
                    .search__subitem
                        +rich-checkbox("Широкий коридор", "Ширина коридоров в номере не менее 91 см.")
                    .search__subitem
                        +rich-checkbox("Помощник для инвалидов", "На 1 этаже вас встретит специалист и проводит до номера.")


                .search__item
                    .search__item-label
                        h3.search__item-header удобства номера
                    +dropdown({
                        placeholder: "Сколько гостей",
                        items: [
                            {
                                id: "bedrooms",
                                minAmount: "0",
                                maxAmount: "100",
                                forms: "спальня,спальни,спален",
                                itemName: "спальни",
                                startAmount: "2"
                            },
                            {
                                id: "beds",
                                minAmount: "0",
                                maxAmount: "100",
                                forms: "кровать,кровати,кроватей",
                                itemName: "кровати",
                                startAmount: "2"
                            },
                            {
                                id: "bathrooms",
                                minAmount: "0",
                                maxAmount: "100",
                                forms: "ванная комната,ванные комнаты,ванных комнат",
                                itemName: "ванные комнаты",
                                startAmount: "0"
                            }
                        ]
                    })

                .search__item
                    +expandable-checkbox-list("дополнительные удобства", [
                        {text: "Завтрак", checked: false},
                        {text: "Письменный стол", checked: true},
                        {text: "Стул для кормления", checked: true},
                        {text: "Кроватка", checked: true},
                        {text: "Телевизор", checked: false},
                        {text: "Шампунь", checked: false}
                    ])




            section.search__result

                h1.search__results-header Номера, которые мы для вас подобрали

                .search__results-list

                    .search__result-item
                        +apartment-description-card(descriptionCardsData[0])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[1])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[2])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[3])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[4])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[5])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[6])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[7])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[8])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[9])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[10])
                    .search__result-item
                        +apartment-description-card(descriptionCardsData[11])
                .search__pagination
                    +pagination("1", "15", "mock-address", "1 – 12 из 100+ вариантов аренды")

